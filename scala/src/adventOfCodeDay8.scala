import scala.collection.mutable
import scala.util.{Failure, Success, Try}

object adventOfCodeDay8 extends App {

  case class Instruction(element: String, operation: String, value: Int, compareElement: String, condition: String, compareValue: Int)

  override def main(args: Array[String]): Unit = {
    val test = "b inc 5 if a > 1\na inc 1 if b < 5\nc dec -10 if a >= 1\nc inc -20 if c == 10"
    val input = "y inc 497 if n <= 3\nig inc -54 if es < 9\nj dec 278 if low < 10\nnm inc -531 if tr == 0\ntq inc 537 if tq < 9\ntxm dec 835 if s != -8\nxho dec -204 if vv < 6\nipq dec 59 if txm != -835\nvv dec -259 if xho <= 210\ntq inc 364 if qen != -7\nxho inc -198 if xho < 205\nafo dec -182 if j == -278\nqen inc 774 if ntk == 4\ncwp dec -414 if tr < 4\nvv dec -696 if ntk == 0\nlow dec 851 if n == 0\ntq inc -132 if t > -10\nmux dec 626 if j >= -283\nwby dec 759 if vv >= 950\nqen inc 853 if j >= -283\nqen inc -571 if tr != 0\nntk inc 213 if n == 0\nqen dec 714 if qen == 853\nes inc -936 if qen == 139\ntq inc -496 if vv >= 955\ntr dec -242 if afo > 175\ntr inc 937 if ipq == -8\nes inc 543 if wby <= -752\ns dec -670 if low >= -860\nvv inc 858 if ig == -46\nixp inc 292 if zhz >= -5\nzhz dec 628 if xho != 8\nwby dec 538 if tr == 242\ny dec -183 if j > -287\nig inc -804 if mux >= -633\nafo inc -89 if ig >= -862\nlow dec -423 if vv == 951\nvv inc 144 if vv == 955\ncwp inc 317 if s <= 677\nipq dec 963 if cwp < 731\nmux dec -663 if vv <= 1091\nqen inc 522 if ipq == 0\nnm inc 940 if t >= -7\nlow inc -847 if ixp != 290\nig inc 112 if t < 2\ntr dec -910 if ntk == 213\nafo dec 445 if nm == 409\nzhz inc 93 if tq < 279\ns dec 902 if jaq <= 2\nixp inc -250 if n != -4\nmux inc 41 if es < -385\nntk dec -326 if vv < 1102\nwby inc -735 if mux == -585\njaq dec -794 if afo >= -352\ntr inc -212 if n > -7\ny inc 132 if tr < 948\ntq dec -72 if cwp <= 738\nwby inc -154 if txm > -840\njaq dec -138 if xho != 4\nixp inc 201 if cwp > 729\ntq dec 322 if wby < -2185\nig inc 333 if afo <= -344\nnm dec 688 if tq < 31\nnm dec 204 if jaq != 931\nig inc -650 if qen > 658\nt inc -269 if ixp != 239\nvv inc 925 if vv > 1096\nntk inc -763 if ig != -1054\nt dec 50 if ipq < 8\nes inc 437 if tr <= 947\nwby dec -465 if s > -240\ntq inc 374 if mux == -585\nipq inc 26 if afo >= -355\ncwp dec 507 if j != -272\nj inc -521 if ntk >= -229\nwby inc 822 if jaq == 932\nn dec 782 if low >= -1702\ny dec -376 if nm != -481\ny inc 402 if cwp == 224\nzhz dec -396 if j >= -807\ntxm inc 679 if n >= -789\nxho inc -680 if mux <= -585\nig dec 716 if tq != 397\nn inc -392 if nm > -479\nxho inc -142 if j <= -801\njaq dec 33 if tr < 942\ny dec 822 if cwp <= 228\njaq dec 554 if low >= -1698\nlow dec -208 if s >= -239\nntk inc 219 if es == 44\nmux dec 895 if jaq > 335\nes inc 832 if ntk < 0\nvv dec 68 if cwp > 231\ncwp dec -357 if y <= 776\nes dec 969 if es < 886\nnm dec 268 if txm <= -158\nvv dec 702 if ipq > 24\ntr dec -150 if mux > -1482\ncwp dec -591 if low != -1483\ncwp dec -404 if tr >= 1089\nmux inc -586 if ipq > 19\nxho inc -80 if n >= -784\ntr dec -933 if cwp >= 1575\nqen inc 512 if txm >= -160\nn inc 206 if low > -1493\nixp inc -157 if n == -576\nes inc -285 if s < -222\nj dec -594 if qen >= 1164\nxho inc -7 if es == -380\nafo dec -475 if tq <= 406\nixp dec -542 if ixp == 93\nxho dec 394 if zhz == -144\nxho inc 263 if afo >= 121\nzhz dec 393 if low <= -1482\nxho inc -100 if j >= -212\nntk dec 748 if jaq == 345\nnm inc -477 if y <= 770\nmux inc -256 if xho == -591\nj dec 698 if low != -1490\nvv dec 857 if jaq == 345\nntk inc -133 if mux >= -2331\nmux inc -570 if tr <= 2028\nt dec 35 if ntk <= -886\nixp inc 437 if j != -207\nipq inc -200 if txm < -156\nj inc -968 if ig == -1063\nj inc -250 if n > -580\nzhz inc 794 if zhz <= -527\nvv dec -413 if cwp > 1569\nnm dec -698 if ntk != -878\njaq inc -937 if vv <= 884\nafo dec -121 if ig < -1071\nlow inc -887 if cwp >= 1576\nnm inc -290 if n != -577\nvv dec -13 if t != -354\ntq dec 240 if n != -576\ny inc -173 if j > -1428\nxho inc -348 if ipq <= 20\nwby inc -385 if ig <= -1055\nntk dec 570 if txm < -154\nj inc -55 if qen < 1182\nxho dec 9 if txm <= -148\ns inc 212 if afo != 118\nlow dec 51 if wby <= -1292\nxho inc -81 if zhz != 262\nzhz dec 190 if s != -12\nlow inc 475 if tr >= 2032\nzhz dec -876 if txm < -164\ntxm inc 792 if tr <= 2030\nzhz inc 643 if s != -22\nafo inc 594 if nm < -542\ny inc 31 if tr < 2014\nxho inc 435 if qen > 1179\ny dec -512 if tq == 397\ny dec -186 if wby < -1278\nt inc -194 if zhz != 718\ntr dec 629 if y < 1295\nxho dec -804 if jaq > -601\ntq dec -581 if wby >= -1285\nnm inc -172 if tr <= 1397\njaq dec 579 if vv < 876\nvv dec -666 if ntk != -1456\ntq dec 795 if cwp <= 1585\ntq dec -62 if ntk >= -1464\nvv dec 779 if qen >= 1171\nntk inc 815 if tq > 249\nzhz dec 11 if ntk == -1456\nxho dec 765 if j > -1480\nzhz dec -694 if cwp <= 1583\nlow inc 795 if tq <= 248\nn inc 756 if ntk != -1464\ncwp inc -300 if t > -551\nipq dec 858 if xho > -564\nixp inc 975 if n >= 172\nmux inc 954 if ixp > 1489\nzhz inc 552 if qen >= 1169\nixp dec -398 if txm <= 642\nwby inc -643 if ixp > 1886\ny dec -978 if vv >= 95\nmux inc 853 if nm <= -720\nlow inc -886 if mux > -1086\nzhz dec -990 if jaq != -587\nlow inc 111 if es > -379\ncwp dec 416 if y <= 2273\nzhz dec 742 if ntk < -1452\nes inc -655 if es == -378\nvv inc 81 if wby > -1932\ntr inc -572 if tr == 1394\nqen dec -217 if wby > -1928\nig dec -562 if y >= 2269\nqen dec 422 if wby < -1920\nig dec 146 if nm >= -730\nafo inc -5 if txm < 638\nqen dec -747 if j == -1478\nixp dec -197 if ipq == -832\ntq dec 63 if mux <= -1093\ntr dec -194 if y <= 2266\nqen inc -894 if nm != -731\ntr dec -258 if es < -1028\nmux inc 290 if s >= -25\nn inc 653 if tr == 1080\nxho dec -724 if jaq == -584\nwby inc -941 if ixp >= 2086\nj inc -918 if j > -1471\nes dec -179 if zhz != 2198\ntxm inc -726 if tq <= 251\nj dec 875 if ntk <= -1448\ntr inc -499 if ig > -642\nj dec -440 if cwp != 853\nipq inc -325 if zhz >= 2197\nmux dec 200 if j > -1921\nvv inc -51 if es <= -1026\nvv dec -96 if n != 833\nt inc 598 if ntk > -1457\njaq inc -465 if vv >= 129\njaq dec -642 if n <= 830\nmux dec 752 if nm > -727\nxho inc -607 if nm < -717\nxho inc 453 if jaq < -1060\nmux inc -465 if vv > 122\nxho inc -669 if vv < 135\ntr inc -789 if vv > 121\nlow dec 65 if zhz >= 2204\nlow dec -161 if mux >= -2210\ntr dec -559 if nm < -719\ntq inc -414 if ipq != -1157\ntr inc -290 if tq <= 247\nlow inc 435 if cwp == 860\nvv dec -621 if cwp >= 853\nig inc -488 if t >= 50\nwby dec 849 if ixp == 2093\nxho dec -948 if mux < -2206\nipq inc 78 if mux != -2211\nqen dec -912 if ipq > -1080\nixp dec -49 if ntk > -1459\nqen inc 882 if j == -1913\ntxm dec 426 if qen == 2615\nn dec -105 if txm <= -510\ny dec -757 if tq == 235\ny dec 786 if j < -1906\nxho inc 283 if y != 1485\nvv inc 346 if j != -1912\nafo inc -849 if nm == -724\nj inc -270 if n > 937\nn dec -907 if txm == -520\nwby inc -682 if ixp <= 2140\nvv dec -617 if xho <= -886\ny dec -97 if afo <= -136\nwby inc 762 if ntk != -1455\nes dec -39 if afo >= -143\nafo inc 91 if tq == 245\nvv inc -974 if xho >= -892\nj dec 758 if afo == -46\nig dec 129 if es == -994\ny inc 947 if tq < 246\nqen dec -15 if cwp < 868\nes inc -430 if zhz != 2193\nj dec 132 if ntk != -1456\nzhz inc -779 if y == 2529\ncwp dec -382 if cwp == 866\nmux inc -872 if jaq <= -1058\nixp inc -321 if ig >= -1273\ntr inc -56 if ixp > 1814\nwby inc -250 if wby >= -2955\nes dec 771 if ntk < -1448\ntq inc 830 if s > -25\nixp dec 255 if qen >= 2629\ny inc -322 if mux != -2215\nipq inc -154 if xho == -889\nwby dec -975 if ig >= -1267\nzhz inc 159 if mux <= -2209\nnm dec 178 if vv > 735\nxho dec 998 if ntk != -1464\nig inc 106 if mux == -2212\njaq dec -414 if cwp >= 856\nixp inc 139 if low == -1922\nixp dec 283 if cwp <= 869\nixp dec -457 if wby <= -2229\nlow dec 684 if mux <= -2205\nafo inc -823 if ntk <= -1451\nn dec 979 if j == -2939\nj dec 185 if mux <= -2204\nmux dec 794 if vv <= 731\nlow inc -240 if j != -3130\nixp dec -563 if wby > -2238\nmux inc -791 if ig >= -1161\ntxm dec -765 if ntk == -1456\nipq inc 570 if tq == 1075\nj dec 341 if ntk == -1456\nafo inc -960 if tr != 496\ny inc -354 if t == 50\nwby inc -461 if ipq > -656\nmux dec 968 if jaq < -636\nwby inc 535 if afo <= -1826\nwby inc -140 if nm > -909\nzhz inc -247 if es < -2194\nes dec 832 if afo >= -1819\ncwp dec -172 if ig > -1160\nntk dec 767 if wby >= -1841\nafo dec 999 if s < -16\ntxm inc 562 if mux > -3972\nzhz inc -463 if tq > 1069\nzhz dec 628 if wby < -1830\nvv dec -217 if j < -3474\ns inc -201 if tq < 1066\ntxm inc -972 if es >= -2203\ntq dec 720 if xho < -1879\nt inc 268 if wby < -1831\ncwp inc -213 if y < 1859\nafo inc 674 if txm == -161\nn inc 360 if ixp == 2442\ntq inc -328 if cwp <= 822\ny inc -500 if low <= -2856\nipq inc 650 if qen != 2639\nlow inc -635 if ixp <= 2434\nipq inc -281 if tr > 498\ntxm dec -111 if wby >= -1838\nixp dec -128 if es == -2195\ntr dec -297 if y <= 1852\nt inc 65 if ntk <= -2223\nnm inc 999 if nm > -912\nixp inc 647 if ipq != -289\njaq inc -884 if afo > -2150\ntxm dec -505 if tr != 508\nzhz inc -728 if es > -2197\ncwp inc 578 if nm < 103\nipq inc 156 if tr > 497\nes inc -500 if s == -20\nj dec 296 if zhz <= -496\nvv dec 524 if txm > 452\nipq inc 417 if tq != 31\ntq dec 630 if cwp != 1404\njaq inc 791 if zhz == -496\ncwp inc 5 if wby >= -1836\nmux dec -502 if afo < -2147\nn inc -296 if n >= 1306\nvv dec 883 if mux < -3468\ntxm dec -593 if j >= -3471\nj dec -34 if zhz < -487\nig dec 183 if ntk <= -2219\ny dec 236 if j >= -3441\nntk inc 78 if mux == -3469\nt inc -480 if xho == -1887\nnm inc -337 if y < 1622\nzhz inc 966 if j == -3433\ny inc -46 if zhz < 481\nqen inc 281 if vv == -668\njaq dec 324 if tq < -599\nvv inc 882 if low == -2840\nntk inc -359 if txm < 1058\nn dec -894 if low == -2846\nn dec 762 if y >= 1564\ntxm inc 428 if afo < -2149\nt inc 500 if ntk > -2500\nntk dec -175 if y < 1577\ntxm inc -851 if nm < -234\nt dec -802 if mux == -3469\ntr inc 254 if n != 1431\nafo inc 910 if mux >= -3472\ntxm dec -99 if j < -3432\nvv dec -689 if wby == -1835\nes inc -446 if es < -2688\nixp inc 703 if afo != -1242\nnm inc -260 if afo < -1240\nafo dec -656 if wby >= -1836\nafo inc 866 if s > -26\njaq inc 700 if ipq != 285\nxho inc 770 if tq != -596\nqen dec -878 if t < 709\ntxm inc 175 if ntk < -2327\ntr dec -92 if ipq != 279\ntq inc -406 if zhz < 485\nntk dec 19 if y < 1577\nes inc 164 if vv < 23\nj dec 341 if jaq == -267\ntxm dec -776 if j > -3784\ncwp dec -22 if s >= -28\nn dec 944 if jaq > -269\ntq dec 658 if s > -23\ntr inc -482 if t >= 696\ncwp inc 66 if xho > -1126\nes dec 880 if afo != 271\nnm dec -457 if cwp >= 1491\nixp inc -690 if ntk < -2344\nn inc 552 if jaq != -267\nntk dec 24 if tr == 276\nlow dec 582 if tr > 278\nn dec -373 if j != -3776\nwby inc 783 if ipq == 279\nxho inc -720 if qen >= 3786\nntk inc 783 if xho < -1830\ntq dec 720 if tq < -1675\nvv inc -358 if wby > -1060\nzhz inc 347 if tr < 278\nvv inc -448 if n == 859\nj dec 487 if ig >= -1342\nn inc -604 if xho > -1840\nipq dec 898 if tq <= -1660\ntq inc 229 if tr != 286\nvv dec 21 if ixp < 3231\ntq inc 747 if ixp > 3229\nxho dec 48 if wby >= -1057\ntq inc 364 if jaq >= -268\ntq inc -647 if mux > -3462\ntq inc -580 if j >= -4260\nn dec 937 if tq <= -324\ncwp inc -976 if xho < -1876\nvv inc 555 if mux == -3469\ntxm inc 305 if wby == -1047\njaq inc -790 if qen < 3798\nqen dec -83 if ntk < -1580\nafo dec 725 if txm <= 1679\nqen inc 790 if ixp <= 3223\njaq dec -693 if ixp <= 3223\ntr inc 706 if txm == 1675\ntq inc 547 if es < -3849\ntq dec 841 if t < 706\nj dec 393 if jaq >= -1063\ntr dec 775 if ntk <= -1584\ny inc -706 if mux >= -3464\ncwp dec 436 if ixp == 3230\nlow dec -311 if xho >= -1886\nt inc 777 if es >= -3858\nt dec -916 if ipq >= -622\nipq inc 85 if xho >= -1885\nnm inc 949 if xho == -1885\nes dec -238 if j == -4663\nmux inc 310 if tr == 207\ntq dec 638 if cwp >= 76\nmux inc -922 if ixp != 3233\ntxm inc 941 if cwp != 83\ntq inc 646 if mux > -4086\nqen inc -179 if xho >= -1878\nzhz inc 359 if zhz != 825\nipq inc 173 if y >= 1563\ntxm dec -586 if s == -16\nafo inc -614 if tr < 211\njaq inc 666 if ixp != 3230\nixp dec 153 if es >= -3858\nnm dec 488 if j == -4654\nt inc 660 if afo != -1056\nipq inc -447 if tr >= 200\ncwp dec 883 if t < 3062\ntxm inc -846 if tr > 198\nj dec -33 if ipq < -815\nzhz dec 761 if vv < -242\ntr inc 621 if zhz <= 59\nig dec 26 if y != 1581\ntxm dec 376 if y < 1581\nlow inc -726 if jaq > -1066\ntxm dec -152 if es >= -3865\nwby inc 323 if jaq <= -1048\nlow dec 884 if zhz > 57\nn dec 112 if t != 3062\nig inc 332 if xho != -1878\nafo dec -295 if low > -4150\nwby dec -158 if nm <= -47\nlow inc 824 if n <= -790\nipq dec -90 if y != 1570\nj inc 41 if tq <= -608\ntxm inc 712 if j == -4613\nn dec 557 if n < -793\nipq dec 340 if xho != -1885\nwby dec 699 if wby <= -721\nipq dec 468 if y <= 1577\nes inc 999 if ixp <= 3077\nj dec -798 if es == -2858\nes inc 652 if mux <= -4084\nntk inc -262 if ntk == -1589\nn dec 528 if afo <= -758\nvv dec 511 if es > -2861\nntk inc 78 if ixp < 3076\nqen inc 502 if j < -3819\nafo inc 363 if jaq < -1052\nnm inc 215 if wby == -1428\ns inc 608 if tq < -619\ntxm dec 100 if low >= -3324\nmux inc 516 if mux > -4085\ncwp inc -888 if ntk >= -1856\nwby inc -941 if afo >= -408\ntr dec 686 if cwp <= -1684\nig inc -365 if jaq > -1061\ntq inc -593 if zhz == 64\ncwp inc -867 if wby == -2369\nixp inc 736 if wby <= -2370\nqen inc -240 if tq <= -1204\nwby dec -961 if vv <= -759\ntxm inc 132 if ixp > 3075\nig inc 984 if n < -1877\nixp inc -898 if vv >= -769\nwby inc -517 if es >= -2864\nmux dec 735 if afo <= -396\nn dec 971 if txm != 2290\nt dec -329 if cwp > -2568\nig dec -780 if y < 1573\nixp dec 955 if tr <= -471\nwby inc 545 if wby <= -1920\ncwp dec -506 if afo == -400\nafo inc 191 if vv > -764\nafo inc -314 if s <= -13\nig dec -7 if tr > -486\nafo dec 643 if n >= -1872\nlow dec -477 if nm != 183\nt dec 98 if xho != -1885\nnm dec -343 if zhz == 64\nn dec -941 if zhz == 64\ncwp inc 222 if ixp != 1218\nzhz inc 756 if nm > 522\nnm dec -233 if cwp != -2329\nn inc 158 if es >= -2864\nj dec 447 if ipq >= -1189\nvv dec 236 if es <= -2852\ntxm dec -940 if j < -4264\nlow dec -631 if ntk == -1851\nt inc 552 if tr != -479\nnm inc -390 if vv >= -1006\nipq inc -589 if j <= -4263\ntq dec -273 if n >= -785\nwby dec 62 if jaq > -1062\nt inc 897 if qen == 3639\nipq inc -541 if nm >= 355\njaq dec 169 if wby != -1452\nmux dec 922 if nm > 354\ny dec -185 if t < 3391\ntq inc -170 if es > -2864\ncwp inc -459 if es != -2849\ntr dec -384 if ntk > -1854\nvv inc 776 if s < -26\nixp dec 603 if vv >= -1005\nig dec -979 if low == -2213\nqen inc -345 if jaq < -1216\ns dec -931 if tr != -100\ns dec 252 if ipq != -1721\nwby inc 487 if tq <= -1096\ntq inc 653 if ntk < -1841\nxho dec -526 if y == 1756\nipq inc -563 if txm >= 2283\nnm inc -679 if qen == 3287\ncwp dec 223 if y > 1754\nes inc 852 if tq < -447\nes dec 455 if txm >= 2285\nntk dec 787 if y != 1749\ntr inc 873 if xho < -1352\nig inc 690 if txm < 2281\ncwp inc -367 if y != 1754\nig dec 502 if j < -4263\nj dec -144 if cwp <= -3379\nzhz inc 287 if mux >= -5222\nntk dec -34 if jaq != -1231\ny inc -592 if ntk != -2610\nafo inc 296 if s != 667\nixp inc 614 if es > -2465\njaq dec 424 if t <= 3385\nipq inc 894 if ntk > -2609\ny dec 484 if afo == -230\njaq inc -458 if zhz <= 354\nn dec -547 if ntk == -2604\nt inc -683 if jaq <= -1689\nt dec -703 if afo > -233\nafo inc -998 if nm != -314\nvv inc 695 if jaq < -1677\nafo inc 986 if tq == -450\nes dec -29 if ntk != -2612\nixp inc -666 if zhz > 359\ntxm inc -505 if low != -2213\nqen inc -980 if txm > 2285\ntq dec 900 if vv == -303\ntr inc -728 if nm > -325\nlow dec -702 if ipq < -1391\nmux inc -9 if ixp >= 1236\nj dec -777 if s == 665\nig inc 527 if ipq < -1388\nes inc 251 if n != -242\nnm inc -979 if txm == 2290\nwby inc -524 if tq == -1350\nzhz dec -886 if txm < 2294\nnm inc -296 if zhz > 1232\nj inc 114 if wby >= -1478\ncwp dec -142 if s <= 667\nn inc -286 if es != -2180\njaq inc 681 if nm > -1591\nmux inc -299 if txm > 2289\nvv dec 602 if es == -2181\nnm inc -118 if s == 653\ns dec 176 if j != -4111\nlow dec -469 if tr >= 50\nxho dec 775 if txm == 2290\nmux inc -164 if ipq < -1391\ntq dec 695 if tr < 48\nafo inc 93 if n < -515\ncwp inc -973 if nm > -1596\nvv dec 517 if es < -2179\nlow dec -353 if wby == -1479\nixp dec -742 if ixp == 1235\ntr inc -76 if vv < -1421\nixp inc -26 if txm != 2281\nqen inc -205 if tq != -1347\nzhz inc -178 if zhz > 1232\nxho dec -540 if qen < 2109\nnm inc -650 if j > -4123\nes inc -191 if xho == -1594\ntxm dec -939 if wby == -1479\nig inc 658 if wby > -1471\nxho dec -234 if n <= -529\nnm dec -510 if ixp == 1958\nig inc 856 if low >= -682\nipq dec -415 if ixp <= 1959\nwby inc -471 if vv > -1417\nt inc -104 if zhz < 1062\nlow dec -345 if tq <= -1348\nxho inc -163 if wby <= -1485\nlow inc 594 if ipq < -980\nipq dec 754 if ixp != 1951\nixp inc 263 if y != 680\nvv inc -186 if mux != -5685\nvv inc 436 if t < 3993\ncwp dec 276 if xho >= -1595\nt dec -268 if t >= 3983\nj dec -241 if cwp == -4494\nwby dec -883 if ipq < -972\nafo inc 881 if ntk == -2604\nntk inc -543 if ntk < -2602\nmux dec 524 if mux <= -5688\nixp inc -15 if low != 243\njaq dec -21 if wby < -590\ntq dec 728 if jaq == -1663\nvv dec -831 if low >= 241\nj dec 290 if vv > -148\nig dec -192 if cwp == -4494\nzhz dec 684 if j < -3874\ntq dec 807 if cwp <= -4489\nt inc -979 if y < 689\nes inc 853 if qen >= 2095\ns dec 211 if ipq >= -982\nt inc -113 if j != -3880\ntr inc -801 if wby >= -598\nafo inc -405 if es < -1511\nipq inc -980 if y == 680\nqen inc -345 if n >= -520\nn dec 332 if n < -515\nmux dec -593 if zhz <= 380\nvv dec -97 if j > -3881\nmux inc 321 if y >= 679\nmux inc 299 if n > -857\ntr dec 105 if qen <= 1757\ny dec 746 if jaq != -1673\nqen inc 898 if afo <= 333\ns inc 467 if afo < 330\nxho dec -634 if txm <= 3233\nig inc -288 if es <= -1512\nes dec -371 if xho > -970\nxho inc -421 if txm < 3235\nntk dec -803 if tr == -939\nxho dec -762 if es != -1150\nixp dec -336 if afo > 325\nes dec 88 if ixp >= 2273\nn dec -586 if afo >= 321\nzhz inc -260 if tq == -2885\nqen dec 94 if tr < -930\nmux inc -37 if j <= -3868\nes inc 438 if s <= 733\nmux dec 946 if mux < -4501\nqen inc -341 if s > 746\ncwp inc -773 if cwp != -4485\ntxm dec 836 if vv == -58\ny inc 495 if wby > -603\ntxm inc -286 if ixp > 2270\njaq inc 147 if txm > 2104\ntq dec -65 if j > -3878\ncwp dec 733 if n >= -272\nn inc -65 if j >= -3884\nnm inc 582 if qen != 2563\ny dec 719 if j >= -3877\nvv inc 636 if vv <= -51\nes dec -295 if y > -299\nn dec 288 if cwp > -6006\nntk inc -40 if afo >= 322\ntr inc -197 if s != 732\nj inc -224 if xho < -626\nmux dec 465 if zhz > 123\ns dec 633 if ixp <= 2275\nipq inc 307 if tq == -2812\ns dec 336 if s > 96\nlow inc 4 if vv == 578\nt inc -665 if afo != 327\nqen inc -403 if t >= 3161\nt dec 586 if t >= 3160\ntxm dec 745 if tq <= -2816\nmux dec -443 if nm != -1654\nvv dec 370 if y < -297\nvv dec -198 if vv == 578\nn dec -470 if s > -240\ncwp dec 166 if wby >= -598\nxho dec 478 if cwp != -6171\nn dec -914 if zhz >= 110\ntxm inc 494 if ixp >= 2264\ntq inc -742 if n < 774\ntr dec -748 if wby >= -599\nwby inc 421 if es == -853\nipq inc -900 if qen < 2166\ns dec 452 if es != -853\nafo dec -929 if ntk >= -3178\nqen inc 706 if jaq == -1516\nipq dec 58 if j != -3868\nafo inc -331 if s < -221\nntk dec -186 if ipq == -2919\njaq dec -371 if y < -289\ncwp dec -975 if n == 766\nqen inc -631 if xho != -1090\ncwp dec 57 if ig < 1779\nixp inc -146 if ipq <= -2922\ns inc -148 if y < -283\nzhz dec 842 if mux < -5009\nnm inc -840 if ipq != -2923\nmux inc -583 if wby < -171\nj dec -467 if ig >= 1788\ncwp inc -513 if j == -3877\ns inc 353 if ntk != -3001\ns dec 731 if ixp > 2273\ntr inc 928 if afo != 3\nvv dec 947 if jaq != -1140\ntq inc 184 if ig <= 1785\nvv dec 571 if s != -375\nn dec 222 if vv == -742\nig dec 812 if qen <= 2235\ns inc 722 if y > -294\nafo dec 278 if cwp != -5708\ntr dec 897 if low < 245\nes inc 439 if afo == -282\nzhz inc 976 if vv != -750\nlow dec 381 if ipq != -2927\nzhz dec -510 if zhz >= 242\nmux dec -846 if tr <= 555\ntq dec 786 if y <= -293\nwby inc 40 if wby >= -180\nwby inc 461 if wby != -131\ny inc -388 if t < 2579\nig dec 40 if ntk < -2992\ntxm inc -177 if nm > -2503\nj inc -922 if tq == -3378\ntr dec 739 if ipq != -2917\ny dec 776 if mux == -4749\ns inc 261 if afo != -273\ns dec 28 if y != -1463\nes dec 156 if txm > 1679\nlow inc -914 if es == -413\nxho inc 923 if s <= 584\ntxm inc -979 if txm >= 1671\njaq inc -102 if nm >= -2503\njaq dec -802 if low >= -122\nmux inc 183 if low > -129\nzhz dec -428 if nm == -2500\ntq inc -712 if txm >= 692\ntq dec -624 if txm < 705\nzhz inc -472 if tr <= -199\ntr dec 568 if nm < -2495\ntr dec 602 if ixp > 2272\ntr inc -283 if zhz == 1187\nntk inc 387 if ixp < 2277\ntr inc 11 if wby <= 331\nes dec -830 if txm != 692\nnm inc -957 if qen > 2233\nxho inc 564 if tq > -3475\ns dec 145 if n < 545\nnm inc -366 if cwp == -5704\nt dec 752 if afo > -283\nig inc 881 if ipq >= -2911\nzhz inc -139 if cwp != -5708\nafo inc 926 if wby > 317\njaq dec 494 if es >= 412\nj inc 92 if j <= -4792\ntxm inc -93 if jaq > -1743\ntq dec 776 if y <= -1447\njaq inc 696 if zhz == 1048\nmux dec -327 if j >= -4713\nzhz dec 432 if vv >= -742\ntq inc 100 if t > 1823\nt inc 684 if qen <= 2238\ntxm dec 251 if mux > -4243\nlow dec -387 if j != -4702\ntxm inc -736 if qen <= 2239\nmux dec -658 if qen < 2237\nn inc -314 if low < 268\nt dec -246 if mux < -3575\nxho dec -143 if cwp > -5712\nlow inc 83 if t <= 2755\nixp dec 503 if y > -1460\ncwp dec 18 if qen <= 2235\ny inc 390 if zhz != 616\nntk dec -289 if ipq > -2927\ns inc -982 if low <= 343\njaq dec -701 if ntk <= -2327\nn inc -62 if j >= -4703\nnm inc 870 if tr >= -1037\nxho inc -962 if j > -4715\nafo inc 226 if y != -1459\nj dec -510 if s != -557\nlow inc -1 if afo != 879\njaq inc -847 if qen > 2231\njaq dec 360 if t <= 2760\nj inc -770 if qen > 2228\nlow dec -965 if y < -1452\nj inc 553 if mux == -3585\nmux dec 300 if t <= 2756\nxho inc 495 if tq > -4150\ncwp inc -730 if ipq < -2912\ntq inc -315 if n >= 235\nj inc -995 if mux >= -3877\ny inc 378 if txm < -377\nvv dec -898 if t >= 2749\nnm inc -432 if jaq > -2249\nipq inc 850 if qen > 2230\nafo inc 853 if s != -558\nvv dec 628 if low != 1314\ny inc -182 if ntk <= -2323\nwby inc 270 if j < -4958\nn dec 685 if j < -4976\nlow inc -33 if s != -548\nwby dec -502 if jaq < -2243\nnm inc -400 if xho < 69\njaq dec -404 if t > 2744\nmux dec 668 if t > 2748\nwby inc -308 if xho > 63\nlow dec 790 if ixp > 1766\nixp inc -581 if vv > -481\nes dec -399 if y <= -1258\nixp inc -839 if tq >= -4146\njaq inc 451 if low == 479\nmux dec 733 if j < -4957\ncwp inc 263 if xho == 66\ny dec -522 if ntk < -2319\nt dec 764 if ixp <= 356\nvv inc 458 if es != 819\nafo dec 798 if xho < 67\nwby dec -902 if zhz > 616\nixp inc 881 if s > -554\nntk inc -955 if s != -550\nnm inc -890 if n >= 229\nn dec -214 if j > -4972\nwby inc -553 if txm <= -388\ns dec -319 if tr != -1033\nt inc 18 if mux < -5272\ntr dec 923 if zhz <= 625\nxho inc -917 if afo != 927\ntq dec -518 if tr <= -1950\nj inc -895 if ipq != -2066\nlow inc 23 if y > -738\nvv inc 31 if zhz >= 611\ncwp inc 447 if y >= -742\nnm inc 702 if cwp <= -5746\nig dec -733 if low <= 512\nes inc -577 if vv <= 24\ny inc 697 if nm < -3280\ns inc -434 if y != -31\ntq dec 694 if ipq == -2069\nt inc -759 if n > 442\njaq inc 223 if s >= -670\nzhz inc 811 if txm < -374\nmux inc 25 if nm > -3277\njaq dec 825 if nm < -3283\ntr dec -412 if n >= 438\ntxm inc 341 if mux >= -5283\nj dec -952 if zhz == 1427\nqen inc 392 if cwp <= -5752\nzhz inc 486 if txm == -39\nafo inc -500 if wby == 790\ns inc -208 if zhz >= 1912\nafo dec -937 if xho != -849\nig inc -618 if y > -41\nntk inc -11 if qen > 2229\nvv inc 34 if s <= -873\nixp inc 535 if cwp == -5742\nipq dec -996 if mux != -5290\ns dec 436 if qen != 2224\nntk inc 250 if wby != 790\nlow dec -959 if txm > -46\ny inc -807 if es <= 244\nes inc -109 if txm == -39\ny dec -720 if y != -846\nt inc -658 if jaq < -2445\nntk inc -522 if y == -846\nzhz inc -911 if low <= 1475\nzhz inc 313 if vv <= 59\nafo inc -631 if zhz <= 1319\nlow inc -18 if t == 595\nipq inc 16 if xho >= -855\ncwp inc 841 if ig > 1034\nes dec -31 if wby <= 781\nipq dec 904 if mux != -5286\ncwp inc 309 if ntk > -2859\ntxm dec 413 if jaq != -2442\nmux dec 237 if ixp <= 1771\nvv inc -891 if ipq >= -1969\ns dec -4 if n != 444\ncwp dec 971 if s == -1309\nmux inc -388 if es < 122\nes inc -687 if txm < -442\nixp inc 95 if t != 591\njaq dec -333 if y >= -851\nixp dec -134 if j >= -4910\nmux inc 496 if zhz > 1313\nj dec -568 if afo >= 722\nig dec -234 if wby >= 781\nmux dec 814 if xho > -856\njaq inc 78 if nm != -3276\nnm dec -942 if ig < 1287\nvv inc 397 if zhz == 1315\nn inc 86 if wby != 790\nig dec -202 if s < -1306\nj dec 0 if afo >= 728\nntk dec -320 if vv > -438\ntr dec -962 if ipq <= -1957\nes inc -424 if xho >= -843\ntxm dec 972 if ig <= 1487\ncwp dec -730 if vv < -436\nipq dec -691 if ig == 1480\nt inc -852 if afo == 731\nntk inc -361 if es <= -563\nlow inc -413 if n > 436\nafo dec -818 if ixp != 1892\ncwp dec -16 if wby >= 791\ns inc 884 if ntk <= -2853\nipq inc -523 if low >= 1061\nmux inc -157 if tq < -4309\nlow inc -917 if low < 1054\nlow dec -679 if zhz > 1309\nzhz dec -426 if ntk <= -2866\ntr dec 995 if y < -838\nlow inc -343 if jaq != -2039\nwby dec 906 if ixp != 1899\ntxm inc 805 if n == 444\njaq inc -628 if nm <= -2343\nt inc 464 if es != -554\nqen dec 133 if low >= 821\nxho dec -729 if zhz > 1319\nxho inc -186 if zhz <= 1315\nzhz dec 798 if s <= -417\njaq inc -726 if zhz <= 521\nig dec -214 if zhz > 513\nlow inc 486 if es == -558\nig dec -328 if y != -851\ntq inc -112 if ixp != 1905\nipq inc 53 if afo != 1546\nntk inc 694 if es != -567\njaq dec -394 if tq <= -4427\nixp dec -575 if s <= -423\nig dec 694 if tr >= -1579\nmux dec -573 if nm > -2345\nvv inc -966 if tr <= -1576\nvv inc 135 if tq >= -4435\nafo dec -140 if jaq >= -3007\njaq inc 543 if ipq != -1217\nvv inc -145 if vv == -1274\nwby inc -788 if cwp < -4825\njaq inc -180 if zhz <= 518\nvv inc -248 if vv >= -1425\nzhz inc -174 if xho == -1037\nt dec -570 if t <= 207\nafo inc -422 if cwp > -4838\nwby inc -494 if low >= 1297\ns inc 20 if vv <= -1661\ns dec -349 if ig > 1323\ns inc -399 if txm > -627\ntr inc 59 if ixp == 2474\nt inc -490 if wby > -499\njaq dec 265 if ixp <= 2480\nafo inc 77 if qen > 2234\nntk inc -683 if ixp != 2481\ntr dec -127 if afo > 1262\nlow inc -239 if jaq < -3438\nj inc 840 if ipq >= -1220\nn dec 197 if vv > -1677\nlow dec 896 if nm > -2352\nwby inc 26 if vv > -1663\ntxm inc 552 if low > 162\njaq inc -948 if nm >= -2347\ntr dec -871 if txm == -67\ns dec -498 if n >= 246\nn inc -934 if mux >= -5430\nj inc -113 if ntk < -2849\ntq dec -636 if cwp < -4828\nj inc 114 if cwp >= -4832\ntq dec 557 if txm != -71\nipq inc 392 if ig <= 1335\nlow dec 739 if tq != -4343\ns dec -853 if t < 288\nn dec 715 if txm >= -75\njaq inc 140 if ixp == 2474\nn dec 896 if xho < -1030\nipq inc -359 if xho < -1031\nixp dec -497 if j != -3506\nafo inc -293 if low < -566\njaq inc 89 if nm > -2345\nntk dec -524 if vv >= -1669\nntk dec 371 if s < 897\ns dec -478 if jaq > -4170\nj inc 924 if ipq == -1184\nntk inc -239 if y == -846\nwby inc -397 if ntk >= -2941\nnm dec 907 if qen == 2233"
    val splitted = input.split("\n").map(x => x.split(" "))
    val instructions = splitted.map(x => Instruction(x(0), x(1), x(2).toInt, x(4), x(5), x(6).toInt))
    val valueMap = new mutable.HashMap[String, Int]()
//    instructions.foreach(println)

    val max = recurse(instructions, valueMap, 0)

    // Part 1: do the max comparison here
    val maxValue = valueMap.foldLeft(0)((i, kv) => Math.max(i, kv._2))

//    valueMap.foreach(println)
    println("Part 1 - maxValueAtEnd: " + maxValue)
    println("Part 2 - maxWithinIterations: " + max)

  }

  // Part 2: Return the max value reached
  def recurse(inst: Array[Instruction], valMap: mutable.HashMap[String, Int], accumulator: Int): Int = {
    val head = inst.head
    println("head: " + head)
    checkIfExists(valMap, head.element)
    checkIfExists(valMap, head.compareElement)
    val newMax = Try(valMap.get(head.compareElement)) match {
      case Success(value) =>
        if (compare(value.get, head.condition, head.compareValue)) {
          val newValue = updateValue(valMap(head.element), head.operation, head.value)
          valMap.update(head.element, newValue)
          Math.max(accumulator, newValue)
        } else {
          accumulator
        }
      case Failure(value) =>
        accumulator
    }
    if (inst.tail.isEmpty) {
      newMax
    } else {
      recurse(inst.tail, valMap, newMax)
    }
  }

  def compare(currentValue: Int, operator: String, value: Int): Boolean = {
    operator match {
      case "<=" => currentValue <= value
      case "<"  => currentValue <  value
      case "==" => currentValue == value
      case ">"  => currentValue >  value
      case ">=" => currentValue >= value
      case "!=" => currentValue != value
    }
  }

  def updateValue(currentValue: Int, operation: String, value: Int): Int = {
    operation match {
      case "inc" => currentValue + value
      case "dec" => currentValue - value
    }
  }

  def checkIfExists(map: mutable.HashMap[String, Int], test: String): Unit = {
    if (map.get(test).isEmpty) {
      map.update(test, 0)
    }
  }

}